<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Apriltag SLAM: AprilSLAM - Mapping and localization from AprilTags</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Apriltag SLAM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AprilSLAM - Mapping and localization from AprilTags </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>1. Introduction</h2>
<p>Some basic code in this repository is forked from <a href="https://github.com/ProjectArtemis/aprilslam">https://github.com/ProjectArtemis/aprilslam</a> . Thanks <a href="https://github.com/mhkabir"><em></em></a> for opening the awesome code.</p>
<p>AprilSLAM is a package designed for fast camera pose estimation from a single or multiple AprilTags(link) in an unstructured environment. AprilSLAM needs prior information of Apriltags for better localization performance. The system can map multiple tags in the camera's view as long as there is atleast another tag in view to estimate relative tag pose the first time. The system has been run with a forward looking ZED2 stereo camera on an AGV with a X86-based computing solutions for precise estimation of the vehicle pose. The localization FPS is nearly 30Hz. The system is implemented under ROS (Robot Operating System) for ease of integration, but should be easy to run without it as well.</p>
<div class="image">
<img src="./aprilslam/pics/aprilslam.jpg" alt="aprilslam"/>
</div>
<p> We use the awesome AprilTag implementation of M. Kaess for tag extraction [1,2]. GTSAM [3] is used for the mapping system.</p>
<p>The default AprilTag family used is 36h11 with a black border of 1. A PDF of the tag family is available here : <a href="http://www.dotproduct3d.com/assets/pdf/apriltags.pdf">http://www.dotproduct3d.com/assets/pdf/apriltags.pdf</a></p>
<p>Package originally developed by Chao Qu and Gareth Cross from Kumar Robotics (www.kumarrobotics.org) and M.H.Kabirm. The repository is forked from the original Apriltag SLAM and is developed and maintained by Shaoteng Wu from SJTU. (Contact me: <a href="#" onclick="location.href='mai'+'lto:'+'wus'+'ha'+'ote'+'ng'+'@sj'+'tu'+'.ed'+'u.'+'cn'; return false;">wusha<span style="display: none;">.nosp@m.</span>oten<span style="display: none;">.nosp@m.</span>g@sjt<span style="display: none;">.nosp@m.</span>u.ed<span style="display: none;">.nosp@m.</span>u.cn</a>)</p>
<div class="image">
<img src="./aprilslam/pics/ex1.jpg" alt="ex1"/>
</div>
<h2>2. Dependencies</h2>
<p>The code is implemented majorly based on <a href="https://www.ros.org/">ROS melodic</a>, <a href="https://github.com/borglab/gtsam">GTSAM 4.0.2</a> and <a href="https://opencv.org/opencv-4-0/">OpenCV 4.4.0</a>.</p>
<h3>2.1 ROS Melodic</h3>
<p>Install ROS Melodic according to <a href="http://wiki.ros.org/melodic/Installation/Ubuntu">ROS official instructions</a>. Additionally, install <code>apriltag-ros</code> dependency with following step. </p><div class="fragment"><div class="line">#!bash</div><div class="line">$ sudo apt-get install ros-melodic-apriltag</div></div><!-- fragment --><h3>2.2 GTSAM 4.0.2</h3>
<p>GTSAM <a href="https://github.com/borglab/gtsam">installation</a> </p><div class="fragment"><div class="line">#!bash</div><div class="line">$ git clone https://github.com/borglab/gtsam.git</div><div class="line">$ cd gtsam</div><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake ..</div><div class="line">$ make check (optional, runs unit tests)</div><div class="line">$ sudo make install</div></div><!-- fragment --><h3>2.3 OpenCV 4.4.0</h3>
<p>You can install OpenCV 4.4.0 referring to this <a href="https://gist.github.com/raulqf/f42c718a658cddc16f9df07ecc627be7">link</a>. CUDA is not necessarily needed and you can customize your own compilation settings. Aprilslam only need some basic data structures and algorithms.</p>
<h2>3. Get Started</h2>
<h3>3.1 Build</h3>
<div class="fragment"><div class="line">#!bash</div><div class="line">$ cd YOUR_WORK_SPACE/src</div><div class="line">$ git clone https://github.com/ShaotengWu/aprilslam.git </div><div class="line">$ cd ..</div><div class="line">$ catkin build</div></div><!-- fragment --><h3>3.2 Get test data</h3>
<p>You can get example data on Baidu Netdisk with following link and password.</p>
<p>Link: <a href="https://pan.baidu.com/s/1kbAQ4fmSu9N7nlXAXFHemw">https://pan.baidu.com/s/1kbAQ4fmSu9N7nlXAXFHemw</a> Password: sbs4</p>
<h3>3.3 Modify Parameters</h3>
<p>In <code>aprilslam/aprilslam/launch/slam.launch</code>, set proper value of following parameters according to your settings. <b>Attention:</b> The prior information yaml should be consistent with bag data for better localization performance. </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;camera&quot;</span> <span class="keyword">default</span>=<span class="stringliteral">&quot;/zed2_left&quot;</span> /&gt;</div><div class="line">&lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;use_tag_prior_info&quot;</span> <span class="keyword">default</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div><div class="line">&lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;tag_prior_info_path&quot;</span> <span class="keyword">default</span>=<span class="stringliteral">&quot;$(find aprilslam)/config/YOUR_CONFIG.yaml&quot;</span> /&gt;</div><div class="line">...</div><div class="line">&lt;<span class="keywordtype">node</span> <span class="keyword">pkg</span>=<span class="stringliteral">&quot;rosbag&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;play&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;bag_data&quot;</span> <span class="keyword">args</span>=<span class="stringliteral">&quot;--clock  PATH_TO_YOUR_BAG_DATA.bag&quot;</span> /&gt;</div></div><!-- fragment --><p>### 3.4 Launch </p><div class="fragment"><div class="line">#!bash</div><div class="line">$ catkin build</div><div class="line">$ source devel/setup.bash</div><div class="line"># if you use zsh:</div><div class="line"># $ source devel/setup.zsh</div><div class="line">$ roslaunch aprilslam slam.launch</div></div><!-- fragment --><h2>4.References</h2>
<p>Please cite the appropriate papers when using this package or parts of it in an academic publication. </p><pre class="fragment">1. Edwin Olson (2011). AprilTag: A robust and flexible visual fiducial system. Proceedings of the IEEE International Conference on Robotics and Automation (ICRA), pp. 3400â€“3407
2. Michael Kaess. http://people.csail.mit.edu/kaess/apriltags/, Nov. 2013
3. GTSAM. https://collab.cc.gatech.edu/borg/gtsam/</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
